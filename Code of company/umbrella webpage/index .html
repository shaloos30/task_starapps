<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customize Umbrella</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <div class="container">
      <div class="left">
        <img src="Blue umbrella.png" id="previewImage" />
        <div class="loader" id="loader"></div>
        <div class="logo"></div>
      </div>
      <div class="right">
        <h3>Custom Umbrella</h3>

        <div class="nav">
          <span class="one" onclick="changeColor(event)"></span>
          <i class="one"></i>
          <span class="two" onclick="changeColor(event)"></span>
          <i class="two"></i>
          <span class="three active" onclick="changeColor(event)"></span>
          <i class="three"></i>
        </div>

        <h6>Customize your umbrella</h6>
        <p>
          Upload an logo for an instant preview.<br />
          .png and .jpg files only.Max file size is 5MB.
        </p>

        <!-- upload file  -->
        <div class="file-upload">
          <label for="file-input" class="custom-file-upload" id="upload-button">
            <!--<i class="fa fa-upload fa-2x" aria-hidden="true"></i>-->
            <img src="upload_icon.svg" />
            <span style="margin-left: 30px; font-size: 20px">UPLOAD LOGO</span>
          </label>
          <input
            id="file-input"
            type="file"
            style="display: none"
            accept="image/*"
          />
        </div>
      </div>
    </div>
    <script>
      function changeColor(event) {
        document.querySelectorAll("span.active").forEach(function (item) {
          item.classList.remove("active");
        });
        event.target.classList.add("active");
      }
    </script>

    <script>
      const fileInput = document.getElementById("file-input");
      const logo = document.querySelector(".logo");
      logo.style.backgroundImage = `url('')`;
      fileInput.addEventListener("change", function () {
        const file = this.files[0];
        if (file) {
          const reader = new FileReader();
          reader.readAsDataURL(file);
          reader.onload = function () {
            setTimeout(() => {
              logo.style.backgroundImage = `url('${this.result}')`;
            }, 4000);
          };
        }
      });
    </script>

    <script>
      const file_Input = document.getElementById("file-input");
      const loader = document.querySelector(".loader");

      file_Input.addEventListener("change", function () {
        const file = this.files[0];
        if (file) {
          const reader = new FileReader();
          reader.readAsDataURL(file);
          reader.onload = function () {
            loader.classList.add("spin");
            document.getElementById("previewImage").style.display = "none";
            document.getElementById("loader").style.display = "block";

            setTimeout(() => {
              loader.classList.remove("spin");
              document.getElementById("previewImage").style.display = "block";
              document.getElementById("loader").style.display = "none";
            }, 4000);
          };
        }
      });
    </script>
  </body>
</html>
